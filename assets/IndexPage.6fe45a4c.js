var L=Object.defineProperty;var Q=(e,a,o)=>a in e?L(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o;var x=(e,a,o)=>(Q(e,typeof a!="symbol"?a+"":a,o),o);import{c as W,h as Z}from"./render.3ac604e0.js";import{ak as J,al as X,am as ee,an as te,e as ae,ao as oe,O as se,M as ne,ap as re,b as ie,aq as de,N as ce,W as le,ar as pe,q as ue,n as me,r as fe,as as ye,at as be,X as he,au as ve,P as ge,u as Ce,U as xe,av as Se,S as R,Y as we,V as Re,aw as je,ax as Oe,L as ke,ay as Me,az as Te,aA as Ee,C as Ae,F as Ge,aB as _e,aC as Pe,aD as Ie,x as $e,T as Be,aE as Ne,aF as De,aG as ze,I as Ve,aH as He,c as j,aa as _,aI as Ye,aJ as Fe,aK as P,aL as Ue,aM as Ke,aN as qe,aO as Le,aP as Qe,j as We,d as O,aQ as Ze,l as I,aR as Je,aS as Xe,aT as et,aU as tt,g as $,aV as at,aW as ot,h as B,aX as st,aY as nt,i as k,aZ as rt,a_ as it,k as dt,a$ as ct,D as lt,y as pt,A as ut,p as mt,m as ft,J as yt,B as bt,b0 as ht,o as vt,b1 as gt,b2 as Ct,b3 as xt,a as St,K as wt,a9 as N,b4 as Rt,s as jt,b5 as Ot,b6 as kt,b7 as Mt,Q as Tt,z as Et,a8 as At,Z as Gt,_ as _t,b8 as Pt,b9 as It,ba as $t,bb as Bt,bc as Nt,bd as Dt,be as zt,$ as Vt,bf as Ht,bg as Yt,bh as Ft,bi as Ut,bj as Kt,bk as qt,bl as Lt,w as Qt,E as Wt,bm as Zt,bn as Jt,bo as Xt,ab as M,bp as ea,t as ta,bq as aa,br as oa,G as sa,H as na,bs as ra,R as ia,bt as da,bu as ca,bv as la,bw as pa,bx as ua,by as ma,bz as fa,bA as ya,bB as ba,bC as ha,bD as va,bE as ga,a0 as Ca,v as xa,bF as Sa,ac as wa,a1 as C,a2 as Ra,a3 as ja,a7 as Oa}from"./index.f033df69.js";import{a as ka}from"./_commonjsHelpers.a24bbbcb.js";const Ma=()=>{};var Ta=Object.freeze(Object.defineProperty({__proto__:null,compile:Ma,EffectScope:J,ReactiveEffect:X,customRef:ee,effect:te,effectScope:ae,getCurrentScope:oe,isProxy:se,isReactive:ne,isReadonly:re,isRef:ie,isShallow:de,markRaw:ce,onScopeDispose:le,proxyRefs:pe,reactive:ue,readonly:me,ref:fe,shallowReactive:ye,shallowReadonly:be,shallowRef:he,stop:ve,toRaw:ge,toRef:Ce,toRefs:xe,triggerRef:Se,unref:R,camelize:we,capitalize:Re,normalizeClass:je,normalizeProps:Oe,normalizeStyle:ke,toDisplayString:Me,toHandlerKey:Te,BaseTransition:Ee,Comment:Ae,Fragment:Ge,KeepAlive:_e,Static:Pe,Suspense:Ie,Teleport:$e,Text:Be,assertNumber:Ne,callWithAsyncErrorHandling:De,callWithErrorHandling:ze,cloneVNode:Ve,compatUtils:He,computed:j,createBlock:_,createCommentVNode:Ye,createElementBlock:Fe,createElementVNode:P,createHydrationRenderer:Ue,createPropsRestProxy:Ke,createRenderer:qe,createSlots:Le,createStaticVNode:Qe,createTextVNode:We,createVNode:O,defineAsyncComponent:Ze,defineComponent:I,defineEmits:Je,defineExpose:Xe,defineProps:et,get devtools(){return tt},getCurrentInstance:$,getTransitionRawChildren:at,guardReactiveProps:ot,h:B,handleError:st,initCustomFormatter:nt,inject:k,isMemoSame:rt,isRuntimeOnly:it,isVNode:dt,mergeDefaults:ct,mergeProps:lt,nextTick:pt,onActivated:ut,onBeforeMount:mt,onBeforeUnmount:ft,onBeforeUpdate:yt,onDeactivated:bt,onErrorCaptured:ht,onMounted:vt,onRenderTracked:gt,onRenderTriggered:Ct,onServerPrefetch:xt,onUnmounted:St,onUpdated:wt,openBlock:N,popScopeId:Rt,provide:jt,pushScopeId:Ot,queuePostFlushCb:kt,registerRuntimeCompiler:Mt,renderList:Tt,renderSlot:Et,resolveComponent:At,resolveDirective:Gt,resolveDynamicComponent:_t,resolveFilter:Pt,resolveTransitionHooks:It,setBlockTracking:$t,setDevtoolsHook:Bt,setTransitionHooks:Nt,ssrContextKey:Dt,ssrUtils:zt,toHandlers:Vt,transformVNodeArgs:Ht,useAttrs:Yt,useSSRContext:Ft,useSlots:Ut,useTransitionState:Kt,version:qt,warn:Lt,watch:Qt,watchEffect:Wt,watchPostEffect:Zt,watchSyncEffect:Jt,withAsyncContext:Xt,withCtx:M,withDefaults:ea,withDirectives:ta,withMemo:aa,withScopeId:oa,Transition:sa,TransitionGroup:na,VueElement:ra,createApp:ia,createSSRApp:da,defineCustomElement:ca,defineSSRCustomElement:la,hydrate:pa,initDirectivesForSSR:ua,render:ma,useCssModule:fa,useCssVars:ya,vModelCheckbox:ba,vModelDynamic:ha,vModelRadio:va,vModelSelect:ga,vModelText:Ca,vShow:xa,withKeys:Sa,withModifiers:wa},Symbol.toStringTag,{value:"Module"})),Ea=W({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:a}){const{proxy:{$q:o}}=$(),s=k(Ra,C);if(s===C)return console.error("QPage needs to be a deep child of QLayout"),C;if(k(ja,C)===C)return console.error("QPage needs to be child of QPageContainer"),C;const l=j(()=>{const c=(s.header.space===!0?s.header.size:0)+(s.footer.space===!0?s.footer.size:0);if(typeof e.styleFn=="function"){const u=s.isContainer.value===!0?s.containerHeight.value:o.screen.height;return e.styleFn(c,u)}return{minHeight:s.isContainer.value===!0?s.containerHeight.value-c+"px":o.screen.height===0?c!==0?`calc(100vh - ${c}px)`:"100vh":o.screen.height-c+"px"}}),t=j(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>B("main",{class:t.value,style:l.value},Z(a.default))}}),b={},Aa=ka(Ta),D,z;Object.defineProperty(b,"__esModule",{value:!0});var n=Aa;const h=Symbol(),f=new class{constructor(){x(this,"events");x(this,"ymapReady");x(this,"scriptIsNotAttached");x(this,"pluginInstalledGlobal");this.events={},this.ymapReady=!1,this.scriptIsNotAttached=!0,this.pluginInstalledGlobal=!1}$on(e,a){return this.events[e]||(this.events[e]=[]),this.events[e].push(a),()=>{this.events[e]=this.events[e].filter(o=>a!==o)}}$emit(e){const a=this.events[e];a&&a.forEach(o=>o())}};function V(e){return new Promise((a,o)=>{if(window.ymaps)return f.ymapReady||(f.ymapReady=!0,f.$emit("scriptIsLoaded")),a(!0);if(document.getElementById("vue-yandex-maps-script"))return void f.$on("scriptIsLoaded",a);const s=document.createElement("SCRIPT"),{apiKey:i="",lang:l="ru_RU",version:t="2.1",coordorder:c="latlong",debug:u=!1,enterprise:d=!1}=e,m=`https://${d?"enterprise.":""}api-maps.yandex.ru/${t}/?${`lang=${l}${i&&`&apikey=${i}`}&mode=${u?"debug":"release"}&coordorder=${c}`}`;s.setAttribute("src",m),s.setAttribute("async",""),s.setAttribute("defer",""),s.setAttribute("id","vue-yandex-maps-script"),document.head.appendChild(s),f.scriptIsNotAttached=!1,s.onload=(r=>()=>{ymaps.ready(()=>{f.ymapReady=!0,f.$emit("scriptIsLoaded"),r(!0)})})(a),s.onerror=o})}const H=e=>Array.isArray(e)?e.map(H):+e,E=["actionbegin","actionbreak","actionend","actiontick","actiontickcomplete","balloonclose","balloonopen","boundschange","click","contextmenu","dblclick","destroy","hintclose","hintopen","marginchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","sizechange","typechange","wheel"],A=["balloonclose","balloonopen","beforedrag","beforedragstart","click","contextmenu","dblclick","drag","dragend","dragstart","editorstatechange","geometrychange","hintclose","hintopen","mapchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","overlaychange","parentchange","propertieschange","wheel"];function w(e,a=!1){const o=[],s=[];let i,l;return{addGeoObject:(t,c)=>{o.push(a?c:t),clearTimeout(i),i=window.setTimeout(()=>e(o,"add"))},deleteGeoObject:(t,c)=>{s.push(a?c:t),clearTimeout(l),l=window.setTimeout(()=>e(s,"remove"))}}}var Y=n.defineComponent({name:"YandexMap",props:{coordinates:{type:Array,required:!0},zoom:{type:Number,default:10},bounds:{type:Array,default:null},behaviors:{type:Array,default:null},controls:{type:Array,default:null},detailedControls:{type:Object,default:null},events:{type:Array,default:()=>["click"],validator:e=>e.every(a=>E.includes(a))},mapType:{type:String,default:"map"},settings:{type:Object,default:()=>({})},panOptions:{type:Object,default:void 0}},emits:[...E,"geo-objects-updated","created"],setup(e,{emit:a,slots:o,expose:s}){const i=n.ref(!1),l=f.pluginInstalledGlobal&&n.inject("pluginOptions")||{};let t;const c=`yandexMap${Math.round(1e5*Math.random())}`,{addGeoObject:u,deleteGeoObject:d}=w((r,p)=>{t&&r.length&&(r.forEach(g=>t==null?void 0:t.geoObjects[p](g)),a("geo-objects-updated",t.geoObjects),r=[])});n.provide(h,{addGeoObject:u,deleteGeoObject:d});const m=()=>{i.value=!0,t=new ymaps.Map(c,{center:e.coordinates,zoom:e.zoom,bounds:e.bounds,behaviors:e.behaviors,controls:e.controls,type:`yandex#${e.mapType}`}),e.events.forEach(r=>{var p;return(p=t==null?void 0:t.events)==null?void 0:p.add(r,g=>a(r,g))}),e.detailedControls&&Object.keys(e.detailedControls).forEach(r=>{var p;t==null||t.controls.remove(r),t==null||t.controls.add(r,(p=e.detailedControls)==null?void 0:p[r])}),a("created",t)};return f.scriptIsNotAttached&&V({...l,...e.settings}),f.ymapReady?ymaps.ready(m):f.$on("scriptIsLoaded",m),s(t),n.watch(()=>e.coordinates,r=>t==null?void 0:t.panTo(r,e.panOptions)),n.watch(()=>e.zoom,r=>t==null?void 0:t.setZoom(r)),n.watch(()=>e.bounds,r=>t==null?void 0:t.setBounds(r)),n.watch(()=>e.mapType,r=>t==null?void 0:t.setType(r)),()=>{var r;return n.h("section",{class:"yandex-container","data-test":"map"},[n.h("div",{id:c,style:"min-height: 100%;"}),i.value&&n.h("div",{style:"display: none;"},[(r=o.default)==null?void 0:r.call(o)])])}}}),F=n.defineComponent({name:"YandexMarker",props:{coordinates:{type:Array,required:!0},markerId:{type:[String,Number],required:!0},properties:{type:Object,default:()=>({})},options:{type:Object,default:null},type:{type:String,default:"Point"},radius:{type:Number,default:null},events:{type:Array,default:()=>["click"],validator:e=>e.every(a=>A.includes(a))}},emits:[...A],setup(e,{emit:a,slots:o,expose:s}){var g,T;const{addGeoObject:i,deleteGeoObject:l}=n.inject(h)||{},t=n.computed(()=>e.coordinates.map(H)),c=n.ref(!1),u={geometry:{type:e.type,coordinates:t.value,radius:e.radius},properties:{...e.properties,markerId:e.markerId}},d=(g=o.component)!=null&&g.call(o).length?ymaps.templateLayoutFactory.createClass(`<div id="balloon-${e.markerId}" class="yandex-balloon"><div>`,{build(){d.superclass.build.call(this),c.value=!0},clear(){c.value=!1,d.superclass.clear.call(this)}}):null,m={balloonContentLayout:d,...e.options},r=new ymaps.GeoObject(u,m);e.events.forEach(y=>{var v;return(v=r.events)==null?void 0:v.add(y,S=>a(y,S))}),n.provide("marker",r);const p={...u,options:m};return n.onMounted(()=>{i(r,p)}),n.onBeforeUnmount(()=>{l(r,p)}),n.watch(()=>e.coordinates,y=>{var v,S;(S=(v=r.geometry)==null?void 0:v.setCoordinates)==null||S.call(v,y)}),s(r),(T=o.component)!=null&&T.call(o).length?()=>{var y;return c.value&&n.h(n.Teleport,{to:`#balloon-${e.markerId}`},[(y=o.component)==null?void 0:y.call(o)])}:()=>{var y;return(y=o.default)==null?void 0:y.call(o)}}}),U=n.defineComponent({name:"YandexGeoObjectCollection",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(e,{emit:a,expose:o,slots:s}){const i=new ymaps.GeoObjectCollection({},e.options),{addGeoObject:l,deleteGeoObject:t}=n.inject(h)||{},{addGeoObject:c,deleteGeoObject:u}=w((d,m)=>{i&&d.length&&(d.forEach(r=>i[m](r)),a("geo-objects-updated",i),d=[])});return n.provide(h,{addGeoObject:c,deleteGeoObject:u}),n.onMounted(()=>{l(i)}),n.onBeforeUnmount(()=>{t(i)}),o(i),()=>{var d;return(d=s.default)==null?void 0:d.call(s)}}}),K=n.defineComponent({name:"YandexClusterer",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(e,{emit:a,expose:o,slots:s}){const i=new ymaps.Clusterer(e.options),{addGeoObject:l,deleteGeoObject:t}=n.inject(h)||{},{addGeoObject:c,deleteGeoObject:u}=w((d,m)=>{i&&d.length&&(i[m](d),a("geo-objects-updated",i),d=[])});return n.provide(h,{addGeoObject:c,deleteGeoObject:u}),n.onMounted(()=>{l(i)}),n.onBeforeUnmount(()=>{t(i)}),o(i),()=>{var d;return(d=s.default)==null?void 0:d.call(s)}}}),q=n.defineComponent({name:"YandexObjectManager",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(e,{emit:a,expose:o,slots:s}){const i=new ymaps.ObjectManager(e.options),{addGeoObject:l,deleteGeoObject:t}=n.inject(h)||{},{addGeoObject:c,deleteGeoObject:u}=w((d,m)=>{if(!i||!d.length)return;const r=d.map(p=>({type:"Feature",id:p.properties.markerId,geometry:p.geometry,properties:p.properties,options:p.options}));i[m](r),a("geo-objects-updated",i),d=[]},!0);return n.provide(h,{addGeoObject:c,deleteGeoObject:u}),n.onMounted(()=>{l(i)}),n.onBeforeUnmount(()=>{t(i)}),o(i),()=>{var d;return(d=s.default)==null?void 0:d.call(s)}}});let G;const Ga=V,_a=Y,Pa=F,Ia=U,$a=K,Ba=q;var Na={install:(e,a)=>{G||(G=!0,f.pluginInstalledGlobal=!0,e.provide("pluginOptions",a),e.component("YandexMap",Y),e.component("YandexMarker",F),e.component("YandexCollection",U),e.component("YandexClusterer",K),e.component("YandexObjectManager",q))}};b.YandexClusterer=$a,b.YandexCollection=Ia,z=b.YandexMap=_a,D=b.YandexMarker=Pa,b.YandexObjectManager=Ba,b.default=Na,b.loadYmap=Ga;const Da={style:{background:"#f5f5f5"}},za=I({__name:"IndexPage",setup(e){const a=[59.877543,30.335739],o=["fullscreenControl"];return(s,i)=>(N(),_(Ea,null,{default:M(()=>[P("div",Da,[O(R(z),{coordinates:a,controls:o,zoom:18},{default:M(()=>[O(R(D),{coordinates:a,"marker-id":123})]),_:1})])]),_:1}))}});var Ua=Oa(za,[["__scopeId","data-v-14f4beac"]]);export{Ua as default};
